\chapter{Build-in Sensor Evaluation}
% CMPedometer (step count, distance) error plots
\begin{figure}[htbp]
  \subfloat[Distance error]{
    \begin{tikzpicture}
      \begin{axis}[width=0.45\textwidth, height=0.4\textheight,
          xlabel={Reference distance (m)},
          ylabel={Average distance error (m)},
          legend entries={in hand, in pants pocket},
          legend pos=north west,
        grid = major]
        \addplot [blue, only marks, mark=*] table[col sep=semicolon, x=distanceRef, y=distanceError] {csv/2014-10-28_htwg_keller_f/inHand_avg.csv};
        \addplot [red, only marks, mark=*] table[col sep=semicolon, x=distanceRef, y=distanceError] {csv/2014-10-28_htwg_keller_f/inPocket_avg.csv};
      \end{axis}
    \end{tikzpicture}
  }
  \quad
  \subfloat[Step count error]{
    \begin{tikzpicture}
      \begin{axis}[width=0.45\textwidth, height=0.4\textheight,
          xlabel={Reference distance (m)},
          ylabel={Average step count error},
          legend entries={in hand, in pants pocket},
          legend pos=north west,
        grid = major]
        \addplot [blue, only marks, mark=*] table[col sep=semicolon, x=distanceRef, y=stepError] {csv/2014-10-28_htwg_keller_f/inHand_avg.csv};
        \addplot [red, only marks, mark=*] table[col sep=semicolon, x=distanceRef, y=stepError] {csv/2014-10-28_htwg_keller_f/inPocket_avg.csv};
      \end{axis}
    \end{tikzpicture}
  }
  \caption{Measurement curicumstances: The measurements where taken indoor (HTWG Konstanz cellar F building).}
\end{figure}

\centering
\begin{figure}
  \begin{tikzpicture}
    \begin{axis}[trim axis left, trim axis right, width=0.9\textwidth, height=0.9\textheight,
        title={Accelerometer},
        xlabel={Time (sec)},
				ylabel={Acceleration $ms^{-2}$},
      legend entries={x, y, z},
      grid = major]
      \addplot [red, no marks] table[col sep=semicolon, x=timestamp, y=x] {csv/acceleration/acc.csv};
      \addplot [blue, no marks] table[col sep=semicolon, x=timestamp, y=y] {csv/acceleration/acc.csv};
      \addplot [green, no marks] table[col sep=semicolon, x=timestamp, y=z] {csv/acceleration/acc.csv};
  \end{axis}
\end{tikzpicture}
\caption {TODO}
\end{figure}

%\centering
%\begin{figure}
%  \begin{tikzpicture}
%    \begin{axis}[trim axis left, trim axis right, width=0.9\textwidth, height=0.9\textheight,
%        title={Accelerometer Transformed},
%        xlabel={Time (sec)},
%				ylabel={Acceleration $ms^{-2}$},
%      legend entries={x, y, z},
%      grid = major]
%      \addplot [red, no marks] table[col sep=semicolon, x=timestamp, y=x] {csv/acceleration/accTransformed.csv};
%      \addplot [blue, no marks] table[col sep=semicolon, x=timestamp, y=y] {csv/acceleration/accTransformed.csv};
%      \addplot [green, no marks] table[col sep=semicolon, x=timestamp, y=z] {csv/acceleration/accTransformed.csv};
%  \end{axis}
%\end{tikzpicture}
%\caption {TODO}
%\end{figure}

\centering
\begin{figure}
  \begin{tikzpicture}
    \begin{axis}[trim axis left, trim axis right, width=0.9\textwidth, height=0.5\textheight,
				title={Walking detection},
        xlabel={Time (sec)},
        ylabel={Acceleration ($ms^{-2}$)},
        legend entries={$\left| a \right| = \sqrt[2]{x^{2}+y^{2}+z^{2}}$, avg. $\left| a \right|$},
      grid = major]
      \addplot [blue, no marks] table[col sep=semicolon, x=timestamp, y=norm] {csv/acceleration/vel.csv};
      \addplot [red, no marks] table[col sep=semicolon, x=timestamp, y=avgnorm] {csv/acceleration/vel.csv};
  \end{axis}
\end{tikzpicture}
\caption {TODO}
\end{figure}

\citep{wang:wlan} sagt, dass einfache Integration nicht geht in indoor-env. Geht nur in theorie.

\chapter{Kidnapping}

%\begin{figure}
%	\begin{tikzpicture}
%		\begin{axis}[trim axis left, trim axis right, width=0.9\textwidth, height=0.45\textheight,
%			xlabel={Time (sec)},
%			ylabel={ParticleWeightSum},
%			legend entries={without, $recovery < 0.01$},
%			grid = major]
%			\addplot [red, no marks] table[col sep=semicolon, x=timestamp, y=particleWeightSum] {csv/F-Foyer2_F007-F023-F007_kidnapping/ParticleWeight_without.csv};
%			\addplot [blue, no marks] table[col sep=semicolon, x=timestamp, y=particleWeightSum] {csv/F-Foyer2_F007-F023-F007_kidnapping/ParticleWeight_less0.01.csv};
%		\end{axis}
%	\end{tikzpicture}
%\caption {Particle Weight Sum (Data: F-Foyer2\_F007-F023-F007\_kidnapping)}
%\end{figure}
%
%\begin{figure}
%	\begin{tikzpicture}
%		\begin{axis}[trim axis left, trim axis right, width=0.9\textwidth, height=0.45\textheight,
%			xlabel={Time (sec)},
%			ylabel={ParticleWeightSum},
%			legend entries={without},
%			grid = major]
%			\addplot [red, no marks] table[col sep=semicolon, x=timestamp, y=particleWeightSum] {csv/F-Foyer2_F007-F023-F007_kidnapping/ParticleWeight_F007-F023-F022-F007_without.csv};
%			%\addplot [blue, no marks] table[col sep=semicolon, x=timestamp, y=particleWeightSum] {csv/F-Foyer2_F007-F023-F007_kidnapping/ParticleWeight_less0.01.csv};
%		\end{axis}
%	\end{tikzpicture}
%\caption {Particle Weight Sum (Data: F-Foyer2\_F007-F022-F023-F007)}
%\end{figure}

\begin{figure}
	\begin{tikzpicture}
		\begin{axis}[trim axis left, trim axis right, width=0.9\textwidth, height=0.45\textheight,
			xlabel={Time (sec)},
			ylabel={ParticleWeightSum},
			legend entries={F-Foyer2\_F007-F023-F007\_kidnapping, F-Foyer\_F007-F023-F022-F007},
			grid = major]
			\addplot [red, no marks] table[col sep=semicolon, x=timestamp, y=normalizedWeightSum] {csv/F-Foyer2_F007-F023-F007_kidnapping/ParticleWeight.csv};
			\addplot [blue, no marks] table[col sep=semicolon, x=timestamp, y=normalizedWeightSum] {csv/F-Foyer_F007-F023-F022-F007/ParticleWeight.csv};
		\end{axis}
	\end{tikzpicture}
\caption {$recovery < 10$}
\end{figure}